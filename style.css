/* --- VARIABLES --- */
:root {
    --primary-pink: #ffb7c5;
    --hot-pink: #ff69b4;
    --text: #555;
}

/* --- ESTILOS DEL BODY (FONDO CAMBIANTE) --- */
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow: hidden;
    font-family: 'Indie Flower', cursive;
    
    /* Esta línea hace que el color de fondo cambie suavemente */
    transition: background 1.5s ease-in-out; 
    
    /* Fondo Inicial (Slide 1) */
    background-color: #ffe6eb;
}

/* --- TEMAS PARA CADA SLIDE --- */
/* Slide 2: Cielo */
body.theme-sky {
    background: linear-gradient(to bottom, #87CEEB, #E0F7FA);
}
/* Slide 3: Noche */
body.theme-night {
    background: linear-gradient(to bottom, #2b1055, #7597de);
}
/* Slide 4: Atardecer */
body.theme-sunset {
    background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
}
/* Slide 5: Tech / Oscuro */
body.theme-tech {
    background: #222;
    background-image: radial-gradient(#444 1px, transparent 1px);
    background-size: 20px 20px;
}
/* Slide 6: Amor */
body.theme-love {
    background: radial-gradient(circle, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
}

/* --- TARJETA --- */
#card {
    background: rgba(255, 255, 255, 0.92); /* Un poco transparente */
    width: 90%;
    max-width: 450px;
    padding: 40px;
    border-radius: 30px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    border: 4px solid white;
    position: relative;
    z-index: 10;
}

/* --- TIPOGRAFÍA Y ELEMENTOS --- */
h1, h2 {
    font-family: 'Fredoka One', cursive;
    color: var(--hot-pink);
    margin-bottom: 10px;
}

p {
    font-size: 1.3rem;
    color: var(--text);
}

button {
    background-color: var(--hot-pink);
    color: white;
    border: none;
    padding: 12px 30px;
    font-size: 1.2rem;
    border-radius: 50px;
    cursor: pointer;
    font-family: 'Fredoka One', cursive;
    margin-top: 20px;
    box-shadow: 0 5px 0 #d44d8c;
    transition: transform 0.1s;
}

button:active {
    transform: translateY(4px);
    box-shadow: 0 1px 0 #d44d8c;
}

/* --- SLIDES --- */
.slide {
    display: none;
    animation: fadeIn 0.8s ease;
}
.slide.active { display: block; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- EFECTOS ESPECIALES --- */

/* Lluvia */
.falling-emoji {
    position: fixed;
    top: -50px;
    font-size: 2.5rem;
    z-index: 1;
    animation: fall linear forwards;
}
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

/* Chat */
.chat-container { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; }
.msg {
    background: #fce4ec; border: 2px solid var(--primary-pink);
    padding: 8px 15px; border-radius: 15px; border-bottom-left-radius: 2px;
    opacity: 0; transform: translateY(10px); transition: all 0.5s;
}
.msg.show { opacity: 1; transform: translateY(0); }

/* Polaroid Flip */
.flip-card {
    background-color: transparent; width: 220px; height: 260px;
    perspective: 1000px; margin: 0 auto; cursor: pointer;
}
.flip-card-inner {
    position: relative; width: 100%; height: 100%; text-align: center;
    transition: transform 0.8s; transform-style: preserve-3d;
}
.flip-card:hover .flip-card-inner, .flip-card:active .flip-card-inner {
    transform: rotateY(180deg);
}
.flip-card-front, .flip-card-back {
    position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
    border-radius: 15px; display: flex; justify-content: center; align-items: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.flip-card-front { background-color: var(--primary-pink); color: white; }
.flip-card-back { background-color: white; transform: rotateY(180deg); }
.flip-card-back img { width: 100%; height: 100%; object-fit: cover; border-radius: 15px; }

/* Barra de Carga */
.loading-bar-container {
    width: 100%; background: #333; border-radius: 50px; height: 30px;
    overflow: hidden; border: 2px solid var(--hot-pink); margin: 20px 0;
}
.loading-bar {
    width: 0%; height: 100%; background: var(--hot-pink);
    color: white; display: flex; align-items: center; justify-content: center;
    font-weight: bold; font-family: 'Quicksand', sans-serif;
}

/* Extras */
.sticker { font-size: 3rem; animation: float 3s infinite ease-in-out; }
@keyframes float { 50% { transform: translateY(-10px); } }
.hidden-fade { opacity: 0; transition: opacity 1s; }
.final-gif { width: 150px; border-radius: 10px; margin-top: 15px; }